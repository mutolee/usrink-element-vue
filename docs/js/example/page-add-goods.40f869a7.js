import{r as c,s as ie,B as _e,ah as s,c as r,a,W as e,Q as l,o as u,F as x,a9 as k,u as h,T as R,P as b,U as n,V as m,aa as ce,L as z,n as re}from"../@vue/@vue.5ea14220.js";import{T as pe,E as me}from"../@wangeditor/@wangeditor.654f9dc1.js";import{S as fe}from"../sku-single/sku-single.d7adee0c.js";import{I as ve}from"../image-cutter-dialog/image-cutter-dialog.6ada573b.js";import{P as he,R as be,n as O}from"../@element-plus/@element-plus.99d8e261.js";import{_ as ge}from"../vue-img-cutter/vue-img-cutter.3d5e4c17.js";import{E as ye}from"../element-plus/element-plus.33c2f463.js";import"../lodash-es/lodash-es.21c98b27.js";import"../@vueuse/@vueuse.71e72d96.js";import"../@popperjs/@popperjs.c75af06c.js";import"../@ctrl/@ctrl.f8748455.js";import"../dayjs/dayjs.10495895.js";import"../@kangc/@kangc.f59435d2.js";import"../vue/vue.1c0a12e0.js";import"../async-validator/async-validator.dee29e8b.js";import"../memoize-one/memoize-one.297ddbcb.js";import"../escape-html/escape-html.66262ebd.js";import"../normalize-wheel-es/normalize-wheel-es.ed76fb12.js";import"../@floating-ui/@floating-ui.72671fae.js";const xe={class:"page"},ke={class:"page_left"},we={class:"add_goods_panel"},Ve={class:"mask"},Ce={class:"page_right"},ze={class:"preview"},Te={class:"preview_con"},Ie={class:"shop_carousel_list"},Se={class:"shop_info_panel"},Ne={class:"tit_panel"},Ue={class:"tit_item price"},Re={class:"price_real"},Be={class:"tit_item tit"},Ke={class:"share"},Ee={key:1,class:"tit_item tags"},Le={class:"sku_panel"},Me={style:{"padding-bottom":"10px"}},Pe={class:"sku_info"},De={class:"choose_more_arrow"},Fe={class:"choose_time_panel"},He={style:{"padding-bottom":"10px"}},Oe={class:"time_panel"},je={class:"choose_more_arrow"},Ae={class:"detail_panel"},Ge=["innerHTML"],We={class:"publish"},w=360,qe={__name:"page-add-goods",setup(Qe){const i=c({shopNo:"",shopName:"",shopType:[],unit:"0"}),j=[{value:1,label:"笔记本"},{value:2,label:"台式机"},{value:3,label:"电脑组件",children:[{value:31,label:"显示器"},{value:32,label:"主板"}]},{value:4,label:"外设产品"},{value:5,label:"电脑组件-2",children:[{value:51,label:"显示器-2-1"},{value:52,label:"主板-2-2"}]},{value:6,label:"电脑组件-3",children:[{value:61,label:"显示器-3-1"},{value:62,label:"主板-3-2"}]}],V=c([{name:"",price:.01,delPrice:.02,count:99}]),T=ie(),I=c("<p></p>"),A={toolbarKeys:["headerSelect","|","bold","italic","through","underline","color","bgColor","fontSize","blockquote","|","insertTable","uploadImage"]},G={placeholder:"请输入内容...",MENU_CONF:{uploadImage:{base64LimitSize:5*1024,async customUpload(d,o){W(d,f=>{o(f,"","javascript:(0);")})}}},hoverbarKeys:{image:{menuKeys:[]}}},W=(d,o)=>{let f=1048576;if(console.log(d),d.size>f){ye.error("单张图片不能大于1M！");return}o("https://fuss10.elemecdn.com/d/e6/c4d93a3805b3ce3f323f7974e6f78jpeg.jpeg")},q=d=>{T.value=d,console.log(d.getAllMenuKeys())};_e(()=>{const d=T.value;d!=null&&d.destroy()});const v=c([]),g=c(""),S=c(!1),N=c(null),Q=d=>{v.value.splice(v.value.indexOf(d),1)},B=()=>{g.value&&v.value.push(g.value),S.value=!1,g.value=""},$=()=>{S.value=!0,re(()=>{N.value&&N.value.focus()})},C=c([]),K=c({show:!1});let E=0;const J=d=>{E++,C.value.push({id:E,src:d.dataURL})},X=()=>{K.value.show=!0},U=c([{label:"天",value:"0",disabled:!1},{label:"月",value:"1",disabled:!0},{label:"小时",value:"2",disabled:!0}]),Y=w*.7;return(d,o)=>{const f=s("el-input"),p=s("el-form-item"),L=s("el-image"),y=s("el-icon"),Z=s("Plus"),M=s("el-tag"),P=s("el-button"),ee=s("el-cascader"),le=s("el-option"),te=s("el-select"),ae=s("el-form"),D=s("el-scrollbar"),se=s("el-card"),oe=s("el-carousel-item"),ne=s("el-carousel"),_=s("el-text"),F=s("el-step"),ue=s("el-steps"),H=s("el-tab-pane"),de=s("el-tabs");return u(),r("div",xe,[a("div",ke,[e(se,{shadow:"never",class:"vel_card_override"},{default:l(()=>[a("div",we,[e(D,null,{default:l(()=>[e(ae,{model:i.value,"label-width":"120px"},{default:l(()=>[e(p,{label:"商品编号",style:{"padding-top":"20px"}},{default:l(()=>[e(f,{modelValue:i.value.shopNo,"onUpdate:modelValue":o[0]||(o[0]=t=>i.value.shopNo=t),style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(p,{label:"商品名称"},{default:l(()=>[e(f,{modelValue:i.value.shopName,"onUpdate:modelValue":o[1]||(o[1]=t=>i.value.shopName=t)},null,8,["modelValue"])]),_:1}),e(p,{label:"促销信息"},{default:l(()=>[e(f,{modelValue:i.value.desc,"onUpdate:modelValue":o[2]||(o[2]=t=>i.value.desc=t),autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:"请输入简短的描述信息，100个字符以内！"},null,8,["modelValue"])]),_:1}),e(p,{label:"商品图",class:"shop_images"},{default:l(()=>[(u(!0),r(x,null,k(C.value,t=>(u(),r("div",{class:"shop_img_list",key:t.id},[e(L,{class:"shop_img",src:t.src,fit:"fill"},null,8,["src"]),a("span",Ve,[e(y,null,{default:l(()=>[e(h(he))]),_:1})])]))),128)),C.value.length<7?(u(),r("div",{key:0,class:"el-upload--picture-card",onClick:X},[e(y,null,{default:l(()=>[e(Z)]),_:1})])):R("",!0)]),_:1}),e(p,{class:"shop_tags",label:"商品标签"},{default:l(()=>[(u(!0),r(x,null,k(v.value,t=>(u(),b(M,{key:t,size:"large",closable:"","disable-transitions":!1,onClose:$e=>Q(t)},{default:l(()=>[n(m(t),1)]),_:2},1032,["onClose"]))),128)),S.value?(u(),b(f,{key:0,modelValue:g.value,"onUpdate:modelValue":o[3]||(o[3]=t=>g.value=t),size:"default",ref_key:"inputRef",ref:N,onKeyup:ce(B,["enter"]),onBlur:B,style:{width:"100px"}},null,8,["modelValue","onKeyup"])):(u(),b(P,{key:1,size:"default",onClick:$},{default:l(()=>[n(" + 添加标签 ")]),_:1}))]),_:1}),e(p,{label:"商品分类"},{default:l(()=>[e(ee,{props:{expandTrigger:"hover"},options:j,size:"default",modelValue:i.value.shopType,"onUpdate:modelValue":o[4]||(o[4]=t=>i.value.shopType=t),clearable:"",placeholder:"选择分类"},null,8,["modelValue"])]),_:1}),e(p,{label:"规格",class:"sku_panel"},{default:l(()=>[e(fe,{skus:V.value},null,8,["skus"])]),_:1}),e(p,{label:"价格单位"},{default:l(()=>[e(te,{modelValue:i.value.unit,"onUpdate:modelValue":o[5]||(o[5]=t=>i.value.unit=t),size:"default",placeholder:"Select"},{default:l(()=>[(u(!0),r(x,null,k(U.value,t=>(u(),b(le,{key:t.value,label:t.label,value:t.value,disabled:t.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(p,{label:"商品描述",class:"shop_editor"},{default:l(()=>[e(h(pe),{style:{"border-bottom":"1px solid #e0e0e0"},editor:T.value,defaultConfig:A,mode:"simple"},null,8,["editor"]),e(h(me),{style:{height:"400px","overflow-y":"hidden"},modelValue:I.value,"onUpdate:modelValue":o[6]||(o[6]=t=>I.value=t),defaultConfig:G,mode:"simple",onOnCreated:q},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1})])]),_:1})]),a("div",Ce,[a("div",ze,[a("div",Te,[e(D,null,{default:l(()=>[a("div",Ie,[e(ne,{height:Y+"px"},{default:l(()=>[(u(!0),r(x,null,k(C.value,t=>(u(),b(oe,{key:t.id},{default:l(()=>[e(L,{src:t.src,fit:"fill",style:{width:"100%"}},null,8,["src"])]),_:2},1024))),128))]),_:1},8,["height"])]),a("div",Se,[a("div",Ne,[a("div",Ue,[a("span",Re,[e(_,null,{default:l(()=>[n("￥")]),_:1}),e(_,{style:{"font-size":"22px"},tag:"b"},{default:l(()=>[n(m(V.value[0].price),1)]),_:1}),e(_,null,{default:l(()=>[n("/"+m(U.value[0].label),1)]),_:1})]),e(_,{type:"info",tag:"del",size:"small"},{default:l(()=>[n("￥"+m(V.value[0].delPrice)+"/"+m(U.value[0].label),1)]),_:1})]),a("div",Be,[e(_,{class:"txt",tag:"b",style:z({width:w-20-40+"px"})},{default:l(()=>[n(m(i.value.shopName),1)]),_:1},8,["style"]),a("div",Ke,[e(y,null,{default:l(()=>[e(h(be))]),_:1}),e(_,{size:"small"},{default:l(()=>[n("分享")]),_:1})])]),i.value.desc!==""?(u(),r("div",{key:0,class:"tit_item desc",style:z({width:w-20+"px"})},[e(_,{type:"info",size:"small"},{default:l(()=>[n(m(i.value.desc),1)]),_:1})],4)):R("",!0),v.value.length>0?(u(),r("div",Ee,[(u(!0),r(x,null,k(v.value,t=>(u(),b(M,{key:t,type:"danger",size:"small",effect:"plain"},{default:l(()=>[n(m(t),1)]),_:2},1024))),128))])):R("",!0)]),a("div",Le,[a("div",Me,[e(_,{tag:"b"},{default:l(()=>[n("规格")]),_:1})]),a("div",Pe,[e(_,{class:"sku_name",type:"info",style:z({width:w-20-40*2+"px"}),size:"small"},{default:l(()=>[n(m(V.value[0].name),1)]),_:1},8,["style"]),e(_,{class:"sku_num",type:"info"},{default:l(()=>[n("x1")]),_:1}),a("div",De,[e(y,null,{default:l(()=>[e(h(O))]),_:1})])])]),a("div",Fe,[a("div",He,[e(_,{tag:"b"},{default:l(()=>[n("租赁周期")]),_:1})]),a("div",Oe,[e(ue,{direction:"vertical",active:1,space:40},{default:l(()=>[e(F,{status:"wait"},{description:l(()=>[n(" 开始时间 : 2023-11-26 ")]),_:1}),e(F,{status:"wait"},{description:l(()=>[n(" 结束时间 : 2023-11-26 ")]),_:1})]),_:1}),a("div",je,[e(y,null,{default:l(()=>[e(h(O))]),_:1})])])]),a("div",Ae,[e(de,{model:0},{default:l(()=>[e(H,{label:"商品详情"},{default:l(()=>[a("div",{innerHTML:I.value,style:z({width:w-20+"px"})},null,12,Ge)]),_:1}),e(H,{label:"租赁流程"},{default:l(()=>[n("Config")]),_:1})]),_:1})])])]),_:1})])]),a("div",We,[e(P,{type:"primary",size:"large",style:{width:"100%"}},{default:l(()=>[n("立即发布 ")]),_:1})])]),e(ve,{dialog:K.value,onOnConfirm:J,"cut-width":300,"cut-height":210},null,8,["dialog"])])}}},fl=ge(qe,[["__scopeId","data-v-fb4631fc"]]);export{fl as default};
