import{e as Q}from"../vue-draggable-plus/vue-draggable-plus.6c5cba1e.js";import{i as U}from"../../assets/index-1d250c46.js";import{_ as M}from"../vue-img-cutter/vue-img-cutter.3d5e4c17.js";import{r as C,ah as a,o as p,c as m,W as l,Q as s,a as o,F as z,a9 as S,P as w,u as t,U as i,bi as A,bg as F,L as d,V as j,i as G,f as H,ar as J,R as K,T as B}from"../@vue/@vue.5ea14220.js";import"../pinia/pinia.fb187a93.js";import"../vue-router/vue-router.6ed6991e.js";import"../localforage/localforage.9e9e3b2b.js";import"../@kangc/@kangc.f59435d2.js";import"../vue/vue.1c0a12e0.js";import"../js-cookie/js-cookie.edb2da2a.js";import"../axios/axios.47b9d439.js";import"../element-plus/element-plus.33c2f463.js";import"../lodash-es/lodash-es.21c98b27.js";import"../@vueuse/@vueuse.71e72d96.js";import"../@element-plus/@element-plus.99d8e261.js";import"../@popperjs/@popperjs.c75af06c.js";import"../@ctrl/@ctrl.f8748455.js";import"../dayjs/dayjs.10495895.js";import"../async-validator/async-validator.dee29e8b.js";import"../memoize-one/memoize-one.297ddbcb.js";import"../escape-html/escape-html.66262ebd.js";import"../normalize-wheel-es/normalize-wheel-es.ed76fb12.js";import"../@floating-ui/@floating-ui.72671fae.js";import"../echarts/echarts.3025caf6.js";import"../tslib/tslib.54e39b60.js";import"../zrender/zrender.7e5d4d80.js";import"../vue-echarts/vue-echarts.8b3ad32f.js";import"../resize-detector/resize-detector.a5205554.js";import"../nprogress/nprogress.d255c298.js";import"../highlight.js/highlight.js.1b3e8c39.js";const X=u=>(A("data-v-666db6fb"),u=u(),F(),u),Y={class:"vel_cpt_panel_drawer_choose_module"},Z=X(()=>o("h4",null,"选择模块",-1)),ee={class:"dialog_con"},te={class:"con_list"},le={style:{flex:"auto"}},oe={__name:"choose-index-module-dialog",props:["dialog"],emits:["onChoose"],setup(u,{emit:v}){const e=u,n=v,g=e.dialog,r=C([{type:1,chooseEd:!1},{type:2,chooseEd:!1},{type:3,chooseEd:!1},{type:4,chooseEd:!1},{type:5,chooseEd:!0},{type:6,chooseEd:!1},{type:7,chooseEd:!1},{type:8,chooseEd:!1},{type:9,chooseEd:!1}]),_=$=>{let b=r.value.find(y=>y.chooseEd);b.chooseEd=!1;let k=r.value.find(y=>y.type===$.type);k.chooseEd=!0},c=()=>{x();let $=r.value.find(b=>b.chooseEd);n("onChoose",$)},x=()=>{g.show=!1};return($,b)=>{const k=a("el-image"),y=a("el-card"),T=a("el-scrollbar"),D=a("el-button"),f=a("el-drawer");return p(),m("div",Y,[l(f,{modelValue:t(g).show,"onUpdate:modelValue":b[0]||(b[0]=I=>t(g).show=I),direction:"rtl",class:"vel_drawer_override"},{header:s(()=>[Z]),default:s(()=>[o("div",ee,[l(T,null,{default:s(()=>[o("div",te,[(p(!0),m(z,null,S(r.value,I=>(p(),w(y,{key:I.type,shadow:I.chooseEd?"always":"hover",class:"vel_card_thumb_override"},{default:s(()=>[l(k,{onClick:E=>_(I),class:"img_thumb",src:t(U).defaults.baseURL+"/res/imgs/index-module-thumb-"+I.type+".jpg"},null,8,["onClick","src"])]),_:2},1032,["shadow"]))),128))])]),_:1})])]),footer:s(()=>[o("div",le,[l(D,{onClick:x},{default:s(()=>[i("取消")]),_:1}),l(D,{type:"primary",onClick:c},{default:s(()=>[i("确定")]),_:1})])]),_:1},8,["modelValue"])])}}},se=M(oe,[["__scopeId","data-v-666db6fb"]]);const ne={class:"vel_cpt_panel_dialog_add_module"},_e={class:"dialog-footer"},de="100px",ae={__name:"add-index-module-dialog",props:["dialog"],emits:["onConfirm"],setup(u,{emit:v}){const e=u,n=v,g=e.dialog,r={moduleNo:"",moduleTit:"",isShowTit:!1,moduleType:5,status:"0"},_=C({...r}),c=C({show:!1}),x=()=>{c.value.show=!0},$=D=>{_.value.moduleType=D.type},b=async()=>{try{await T.value.validate(),n("onConfirm",_.value),k()}catch{console.log("表单验证未通过")}},k=()=>{g.show=!1,_.value=r},y=C({moduleNo:[{required:!0,message:"编号不能为空！",trigger:"blur"}],moduleTit:[{required:!0,message:"模块名称不能为空！",trigger:"blur"},{min:2,max:4,message:"长度在 2 到 4 个字符",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]}),T=C(null);return(D,f)=>{const I=a("el-input"),E=a("el-form-item"),N=a("el-checkbox"),L=a("el-option"),h=a("el-select"),q=a("el-image"),O=a("el-card"),R=a("el-button"),P=a("el-form"),W=a("el-dialog");return p(),m("div",ne,[l(W,{modelValue:t(g).show,"onUpdate:modelValue":f[4]||(f[4]=V=>t(g).show=V),title:"添加模块"},{footer:s(()=>[o("span",_e,[l(R,{onClick:k},{default:s(()=>[i("取消")]),_:1}),l(R,{type:"primary",onClick:b},{default:s(()=>[i("确定")]),_:1})])]),default:s(()=>[l(P,{model:_.value,ref_key:"formRef",ref:T,rules:y.value,"label-width":de},{default:s(()=>[l(E,{label:"编号",prop:"moduleNo"},{default:s(()=>[l(I,{modelValue:_.value.moduleNo,"onUpdate:modelValue":f[0]||(f[0]=V=>_.value.moduleNo=V),clearable:""},null,8,["modelValue"])]),_:1}),l(E,{label:"标题",prop:"moduleTit",class:"vel_from_item_tit"},{default:s(()=>[l(I,{modelValue:_.value.moduleTit,"onUpdate:modelValue":f[1]||(f[1]=V=>_.value.moduleTit=V),clearable:""},null,8,["modelValue"]),l(N,{modelValue:_.value.isShowTit,"onUpdate:modelValue":f[2]||(f[2]=V=>_.value.isShowTit=V),label:"显示标题",size:"large"},null,8,["modelValue"])]),_:1}),l(E,{label:"状态",prop:"status"},{default:s(()=>[l(h,{modelValue:_.value.status,"onUpdate:modelValue":f[3]||(f[3]=V=>_.value.status=V),size:"default",placeholder:"选择状态"},{default:s(()=>[l(L,{label:"正常",value:"0"}),l(L,{label:"停用",value:"1"})]),_:1},8,["modelValue"])]),_:1}),l(E,{label:"布局类型",class:"el_form_item_choose_module"},{default:s(()=>[l(O,{class:"vel_card_thumb_override"},{default:s(()=>[l(q,{src:t(U).defaults.baseURL+"/res/imgs/index-module-thumb-"+_.value.moduleType+".jpg",class:"img_thumb"},null,8,["src"])]),_:1}),l(R,{onClick:x},{default:s(()=>[i("选择模块类型")]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"]),l(se,{dialog:c.value,onOnChoose:$},null,8,["dialog"])])}}},ie=M(ae,[["__scopeId","data-v-33b74910"]]);const ce={__name:"index-module-1",props:["width"],setup(u){const e=u.width,n=e/2;return(g,r)=>{const _=a("el-text"),c=a("el-image");return p(),m("div",{class:"vel_cpt_panel_index_module_1",style:d({width:t(e)+"px"})},[o("div",{class:"item_con",style:d({width:t(e)+"px",height:n+"px"})},[l(c,null,{error:s(()=>[l(_,null,{default:s(()=>[i("图 1")]),_:1})]),_:1})],4)],4)}}},pe=M(ce,[["__scopeId","data-v-c2d38a54"]]);const ue={__name:"index-module-2",props:["width"],setup(u){const e=u.width,n=e/4;return(g,r)=>{const _=a("el-avatar"),c=a("el-text");return p(),m("div",{class:"vel_cpt_panel_index_module_2",style:d({width:t(e)+"px"})},[(p(),m(z,null,S([1,2,3,4,5,6,7,8],x=>o("div",{class:"item_con",key:x,style:d({width:n+"px",height:n+"px"})},[l(_,{size:n-n*.4},null,8,["size"]),l(c,null,{default:s(()=>[i("推荐模块")]),_:1})],4)),64))],4)}}},re=M(ue,[["__scopeId","data-v-93cb2a09"]]);const he={class:"vel_cpt_panel_index_module_3"},me={class:"panel_tit_con"},ge={__name:"index-module-3",props:["width"],setup(u){const e=u.width,n=e/2;return(g,r)=>{const _=a("el-text"),c=a("el-image");return p(),m("div",he,[o("div",{class:"panel_tit",style:d({paddingLeft:t(e)*.025+"px"})},[o("div",me,[l(_,{tag:"b",size:"large"},{default:s(()=>[i("限时抢购")]),_:1})])],4),o("div",{class:"panel_con",style:d({width:t(e)+"px",height:n+"px"})},[o("div",{class:"item_con",style:d({width:t(e)-t(e)*.025*2+"px",height:n-t(e)*.025*2+"px"})},[(p(),m(z,null,S([1,2,3,4],x=>o("div",{class:"item",key:x,style:d({width:n-t(e)*.025*1.5+"px",height:n/2-t(e)*.025*1.5+"px"})},[l(c,null,{error:s(()=>[l(_,null,{default:s(()=>[i("图 "+j(x),1)]),_:2},1024)]),_:2},1024)],4)),64))],4)],4)])}}},xe=M(ge,[["__scopeId","data-v-cb2204cc"]]);const ve={class:"vel_cpt_panel_index_module_4"},fe={class:"panel_tit_con"},ye={__name:"index-module-4",props:["width"],setup(u){const e=u.width,n=e/2;return(g,r)=>{const _=a("el-text"),c=a("el-image");return p(),m("div",ve,[o("div",{class:"panel_tit",style:d({paddingLeft:t(e)*.025+"px"})},[o("div",fe,[l(_,{tag:"b",size:"large"},{default:s(()=>[i("限时抢购")]),_:1})])],4),o("div",{class:"panel_con",style:d({width:t(e)+"px",height:n+"px"})},[o("div",{class:"item_con",style:d({width:t(e)-t(e)*.025*2+"px",height:n-t(e)*.025*2+"px"})},[o("div",{class:"item",style:d({width:t(e)-t(e)*.025*2+"px",height:n/2-t(e)*.025*1.5+"px"})},[l(c,null,{error:s(()=>[l(_,null,{default:s(()=>[i("图 1")]),_:1})]),_:1})],4),o("div",{class:"item",style:d({width:n-t(e)*.025*1.5+"px",height:n/2-t(e)*.025*1.5+"px"})},[l(c,null,{error:s(()=>[l(_,null,{default:s(()=>[i("图 2")]),_:1})]),_:1})],4),o("div",{class:"item",style:d({width:n-t(e)*.025*1.5+"px",height:n/2-t(e)*.025*1.5+"px"})},[l(c,null,{error:s(()=>[l(_,null,{default:s(()=>[i("图 3")]),_:1})]),_:1})],4)],4)],4)])}}},we=M(ye,[["__scopeId","data-v-f27fe8a5"]]);const be={class:"vel_cpt_panel_index_module_5"},Ie={class:"panel_tit_con"},Me={__name:"index-module-5",props:["width"],setup(u){const e=u.width,n=e/2;return(g,r)=>{const _=a("el-text"),c=a("el-image");return p(),m("div",be,[o("div",{class:"panel_tit",style:d({paddingLeft:t(e)*.025+"px"})},[o("div",Ie,[l(_,{tag:"b",size:"large"},{default:s(()=>[i("限时抢购")]),_:1})])],4),o("div",{class:"panel_con",style:d({width:t(e)+"px",height:n+"px"})},[o("div",{class:"item_con",style:d({width:t(e)-t(e)*.025*2+"px",height:n-t(e)*.025*2+"px"})},[o("div",{class:"item",style:d({width:n-t(e)*.025*1.5+"px",height:n/2-t(e)*.025*1.5+"px"})},[l(c,null,{error:s(()=>[l(_,null,{default:s(()=>[i("图 1")]),_:1})]),_:1})],4),o("div",{class:"item",style:d({width:n-t(e)*.025*1.5+"px",height:n/2-t(e)*.025*1.5+"px"})},[l(c,null,{error:s(()=>[l(_,null,{default:s(()=>[i("图 2")]),_:1})]),_:1})],4),o("div",{class:"item",style:d({width:t(e)-t(e)*.025*2+"px",height:n/2-t(e)*.025*1.5+"px"})},[l(c,null,{error:s(()=>[l(_,null,{default:s(()=>[i("图 3")]),_:1})]),_:1})],4)],4)],4)])}}},$e=M(Me,[["__scopeId","data-v-4bb1f06e"]]);const ke={class:"vel_cpt_panel_index_module_6"},Ve={class:"panel_tit_con"},Ce={__name:"index-module-6",props:["width"],setup(u){const e=u.width,n=e/2;return(g,r)=>{const _=a("el-text"),c=a("el-image");return p(),m("div",ke,[o("div",{class:"panel_tit",style:d({paddingLeft:t(e)*.025+"px"})},[o("div",Ve,[l(_,{tag:"b",size:"large"},{default:s(()=>[i("限时抢购")]),_:1})])],4),o("div",{class:"panel_con",style:d({width:t(e)+"px",height:n+"px"})},[o("div",{class:"item_con",style:d({width:t(e)-t(e)*.025*2+"px",height:n-t(e)*.025*2+"px"})},[o("div",{class:"item",style:d({width:n-t(e)*.025*1.5+"px",height:n-t(e)*.025*2+"px"})},[l(c,null,{error:s(()=>[l(_,null,{default:s(()=>[i("图 1")]),_:1})]),_:1})],4),o("div",{class:"item_con_right",style:d({width:n-t(e)*.025*1.5+"px",height:n-t(e)*.025*2+"px"})},[o("div",{class:"item",style:d({width:n-t(e)*.025*1.5+"px",height:n/2-t(e)*.025*1.5+"px"})},[l(c,null,{error:s(()=>[l(_,null,{default:s(()=>[i("图 2")]),_:1})]),_:1})],4),o("div",{class:"item",style:d({width:n-t(e)*.025*1.5+"px",height:n/2-t(e)*.025*1.5+"px"})},[l(c,null,{error:s(()=>[l(_,null,{default:s(()=>[i("图 3")]),_:1})]),_:1})],4)],4)],4)],4)])}}},De=M(Ce,[["__scopeId","data-v-c8539eae"]]);const Ee={class:"vel_cpt_panel_index_module_7"},Te={class:"panel_tit_con"},ze={__name:"index-module-7",props:["width"],setup(u){const e=u.width,n=e/2;return(g,r)=>{const _=a("el-text"),c=a("el-image");return p(),m("div",Ee,[o("div",{class:"panel_tit",style:d({paddingLeft:t(e)*.025+"px"})},[o("div",Te,[l(_,{tag:"b",size:"large"},{default:s(()=>[i("限时抢购")]),_:1})])],4),o("div",{class:"panel_con",style:d({width:t(e)+"px",height:n+"px"})},[o("div",{class:"item_con",style:d({width:t(e)-t(e)*.025*2+"px",height:n-t(e)*.025*2+"px"})},[o("div",{class:"item_con_left",style:d({width:n-t(e)*.025*1.5+"px",height:n-t(e)*.025*2+"px"})},[o("div",{class:"item",style:d({width:n-t(e)*.025*1.5+"px",height:n/2-t(e)*.025*1.5+"px"})},[l(c,null,{error:s(()=>[l(_,null,{default:s(()=>[i("图 1")]),_:1})]),_:1})],4),o("div",{class:"item",style:d({width:n-t(e)*.025*1.5+"px",height:n/2-t(e)*.025*1.5+"px"})},[l(c,null,{error:s(()=>[l(_,null,{default:s(()=>[i("图 2")]),_:1})]),_:1})],4)],4),o("div",{class:"item",style:d({width:n-t(e)*.025*1.5+"px",height:n-t(e)*.025*2+"px"})},[l(c,null,{error:s(()=>[l(_,null,{default:s(()=>[i("图 3")]),_:1})]),_:1})],4)],4)],4)])}}},Se=M(ze,[["__scopeId","data-v-2d89e197"]]);const Le={class:"vel_cpt_panel_index_module_8"},Ue={class:"panel_tit_con"},Ne={__name:"index-module-8",props:["width"],setup(u){const e=u.width,n=e/3;return(g,r)=>{const _=a("el-text"),c=a("el-image");return p(),m("div",Le,[o("div",{class:"panel_tit",style:d({paddingLeft:t(e)*.025+"px"})},[o("div",Ue,[l(_,{tag:"b",size:"large"},{default:s(()=>[i("限时抢购")]),_:1})])],4),o("div",{class:"panel_con",style:d({width:t(e)+"px",height:n+"px"})},[o("div",{class:"item_con",style:d({width:t(e)-t(e)*.025*2+"px",height:n-t(e)*.025*2+"px"})},[o("div",{class:"item",style:d({width:n-t(e)*.025*1.5+"px",height:n-t(e)*.025*2+"px"})},[l(c,null,{error:s(()=>[l(_,null,{default:s(()=>[i("图 1")]),_:1})]),_:1})],4),o("div",{class:"item",style:d({width:n-t(e)*.025*1.5+"px",height:n-t(e)*.025*2+"px"})},[l(c,null,{error:s(()=>[l(_,null,{default:s(()=>[i("图 2")]),_:1})]),_:1})],4),o("div",{class:"item",style:d({width:n-t(e)*.025*1.5+"px",height:n-t(e)*.025*2+"px"})},[l(c,null,{error:s(()=>[l(_,null,{default:s(()=>[i("图 3")]),_:1})]),_:1})],4)],4)],4)])}}},Re=M(Ne,[["__scopeId","data-v-5b32170d"]]);const Be={class:"vel_cpt_panel_index_module_9"},je={class:"panel_tit_con"},Ae={__name:"index-module-9",props:["width"],setup(u){const e=u.width,n=e/3;return(g,r)=>{const _=a("el-text"),c=a("el-image");return p(),m("div",Be,[o("div",{class:"panel_tit",style:d({paddingLeft:t(e)*.025+"px"})},[o("div",je,[l(_,{tag:"b",size:"large"},{default:s(()=>[i("限时抢购")]),_:1})])],4),o("div",{class:"panel_con",style:d({width:t(e)+"px",height:n+"px"})},[o("div",{class:"item_con",style:d({width:t(e)-t(e)*.025*2+"px",height:n-t(e)*.025*2+"px"})},[o("div",{class:"item",style:d({width:t(e)-t(e)*.025*2+"px",height:n-t(e)*.025*2+"px"})},[l(c,null,{error:s(()=>[l(_,null,{default:s(()=>[i("图 1")]),_:1})]),_:1})],4)],4)],4)])}}},Fe=M(Ae,[["__scopeId","data-v-c0c5a306"]]);const qe=u=>(A("data-v-f6779a63"),u=u(),F(),u),Oe={class:"page"},Pe={class:"page_left"},We={class:"preview"},Qe={class:"preview_con"},Ge={class:"minapp_header"},He={class:"publish"},Je={class:"page_right"},Ke={class:"right_header"},Xe={class:"right_content"},Ye=qe(()=>o("thead",null,[o("tr",null,[o("th"),o("th",null,"布局类型"),o("th",null,"编号"),o("th",null,"标题"),o("th",null,"状态"),o("th",null,"操作")])],-1)),Ze={class:"sort-target"},et={class:"cursor-move"},tt={class:"item_title"},lt={class:"module_item_action"},ot={class:"action_btn"},st={key:0,class:"no_content"},nt={__name:"page-index-manager",setup(u){const v=C({show:!1}),e=()=>{v.value.show=!0},n=x=>{console.log("添加首页模块：--> "+x)},g=C(!0),r=C([]),_=C(!0);G(()=>{c()});const c=()=>{U.get("/data/indexModule.json").then(async x=>{await new Promise($=>setTimeout($,1e3)),r.value=x.data.data}).catch(x=>{console.error(x)}).finally(()=>{g.value=!1})};return H(()=>r.value,x=>{_.value=!1}),(x,$)=>{const b=a("el-text"),k=a("el-scrollbar"),y=a("el-button"),T=a("Switch"),D=a("el-icon"),f=a("el-image"),I=a("el-tag"),E=a("el-empty"),N=a("el-card"),L=J("loading");return p(),m("div",Oe,[o("div",Pe,[o("div",We,[o("div",Qe,[l(k,null,{default:s(()=>[o("div",Ge,[l(b,null,{default:s(()=>[i("首页")]),_:1})]),(p(!0),m(z,null,S(r.value,h=>(p(),m(z,{key:h},[h.id===1?(p(),w(pe,{key:0,width:360})):h.id===2?(p(),w(re,{key:1,width:360})):h.id===3?(p(),w(xe,{key:2,width:360})):h.id===4?(p(),w(we,{key:3,width:360})):h.id===5?(p(),w($e,{key:4,width:360})):h.id===6?(p(),w(De,{key:5,width:360})):h.id===7?(p(),w(Se,{key:6,width:360})):h.id===8?(p(),w(Re,{key:7,width:360})):h.id===9?(p(),w(Fe,{key:8,width:360})):B("",!0)],64))),128))]),_:1})])]),o("div",He,[l(y,{type:"primary",disabled:_.value,size:"large",style:{width:"100%"}},{default:s(()=>[i("立即发布 ")]),_:1},8,["disabled"])])]),o("div",Je,[K((p(),w(N,{shadow:"never",class:"vel_card_override"},{default:s(()=>[o("div",Ke,[l(y,{type:"primary",onClick:e},{default:s(()=>[i("添加模块")]),_:1})]),o("div",Xe,[l(k,null,{default:s(()=>[l(t(Q),{class:"right_content_panel",modelValue:r.value,"onUpdate:modelValue":$[0]||($[0]=h=>r.value=h),target:".sort-target",ghostClass:"ghost",animation:"150"},{default:s(()=>[o("table",null,[Ye,o("tbody",Ze,[(p(!0),m(z,null,S(r.value,h=>(p(),m("tr",{key:h},[o("td",et,[l(D,null,{default:s(()=>[l(T)]),_:1})]),o("td",null,[l(f,{class:"module_item_img",src:t(U).defaults.baseURL+"/res/imgs/index-module-thumb-"+h.id+".jpg"},null,8,["src"])]),o("td",null,[l(b,null,{default:s(()=>[i(j(h.no),1)]),_:2},1024)]),o("td",null,[o("div",tt,[l(b,null,{default:s(()=>[i(j(h.title),1)]),_:2},1024)])]),o("td",null,[h.status===0?(p(),w(I,{key:0},{default:s(()=>[i("正常")]),_:1})):h.status===-1?(p(),w(I,{key:1,type:"info"},{default:s(()=>[i("停用")]),_:1})):B("",!0)]),o("td",lt,[o("div",ot,[l(y,{type:"success",plain:""},{default:s(()=>[i("编辑")]),_:1}),l(y,{type:"primary",plain:""},{default:s(()=>[i("数据")]),_:1}),l(y,{type:"danger",plain:""},{default:s(()=>[i("删除")]),_:1})])])]))),128))])])]),_:1},8,["modelValue"]),r.value.length===0?(p(),m("div",st,[l(E,{description:"暂无数据"})])):B("",!0)]),_:1})])]),_:1})),[[L,g.value]])]),l(ie,{dialog:v.value,onOnConfirm:n},null,8,["dialog"])])}}},Nt=M(nt,[["__scopeId","data-v-f6779a63"]]);export{Nt as default};
