import{u as W}from"../../assets/index-b1fba2d3.js";import{I as F}from"../image-cutter-dialog/image-cutter-dialog.6ada573b.js";import{_ as I}from"../vue-img-cutter/vue-img-cutter.3d5e4c17.js";import{r as y,i as H,ah as o,o as f,c as D,W as e,Q as t,a as U,U as l,V as k,u as V,bi as $,bg as E,j as O,P as S,F as P,T as A}from"../@vue/@vue.5ea14220.js";import"../pinia/pinia.fb187a93.js";import"../vue-router/vue-router.6ed6991e.js";import"../localforage/localforage.9e9e3b2b.js";import"../@kangc/@kangc.f59435d2.js";import"../vue/vue.1c0a12e0.js";import"../js-cookie/js-cookie.edb2da2a.js";import"../axios/axios.47b9d439.js";import"../element-plus/element-plus.33c2f463.js";import"../lodash-es/lodash-es.21c98b27.js";import"../@vueuse/@vueuse.71e72d96.js";import"../@element-plus/@element-plus.99d8e261.js";import"../@popperjs/@popperjs.c75af06c.js";import"../@ctrl/@ctrl.f8748455.js";import"../dayjs/dayjs.10495895.js";import"../async-validator/async-validator.dee29e8b.js";import"../memoize-one/memoize-one.297ddbcb.js";import"../escape-html/escape-html.66262ebd.js";import"../normalize-wheel-es/normalize-wheel-es.ed76fb12.js";import"../@floating-ui/@floating-ui.72671fae.js";import"../echarts/echarts.3025caf6.js";import"../tslib/tslib.54e39b60.js";import"../zrender/zrender.7e5d4d80.js";import"../vue-echarts/vue-echarts.8b3ad32f.js";import"../resize-detector/resize-detector.a5205554.js";import"../nprogress/nprogress.d255c298.js";import"../highlight.js/highlight.js.1b3e8c39.js";const L=r=>($("data-v-fa319114"),r=r(),E(),r),M={class:"vel_cpt_panel_dialog_add_shop_type"},Q=L(()=>U("p",null,"预览",-1)),R={class:"dialog-footer"},q="100px",z={__name:"add-shop-type-dialog",props:["dialog","paramData"],emits:["onConfirm"],setup(r,{emit:v}){const g=r,w=v,s=g.dialog,m=g.paramData,h=y({show:!1}),a=y({parent:{id:0,name:"无"},name:"",icon:""});H(()=>{a.value=m});const x=()=>{h.value.show=!0},c=b=>{a.value.icon=b.dataURL},N=()=>{w("onConfirm",a.value),p()},p=()=>{s.show=!1,a.value.parent.id=0,a.value.parent.name="无",a.value.name="",a.value.icon=""};return(b,i)=>{const u=o("el-text"),_=o("el-form-item"),j=o("el-input"),C=o("el-image"),n=o("el-button"),T=o("el-form"),B=o("el-dialog");return f(),D("div",M,[e(B,{modelValue:V(s).show,"onUpdate:modelValue":i[2]||(i[2]=d=>V(s).show=d),title:a.value.parent.id==0?"创建分类":"添加子分类"},{footer:t(()=>[U("span",R,[e(n,{onClick:p},{default:t(()=>[l("取消")]),_:1}),e(n,{type:"primary",onClick:N},{default:t(()=>[l("确定")]),_:1})])]),default:t(()=>[e(T,{modelValue:a.value,"onUpdate:modelValue":i[1]||(i[1]=d=>a.value=d),"label-width":q},{default:t(()=>[e(_,{label:"父级分类"},{default:t(()=>[e(u,{style:{"font-weight":"700"}},{default:t(()=>[l(k(a.value.parent.name),1)]),_:1})]),_:1}),e(_,{label:"分类名称"},{default:t(()=>[e(j,{modelValue:a.value.name,"onUpdate:modelValue":i[0]||(i[0]=d=>a.value.name=d)},null,8,["modelValue"])]),_:1}),e(_,{label:"图标",class:"el_form_item_cut_img"},{default:t(()=>[e(C,{src:a.value.icon,style:{width:"70px",height:"70px","background-color":"#f0f2f5",display:"flex","justify-content":"center","align-items":"center"}},{error:t(()=>[Q]),_:1},8,["src"]),e(n,{onClick:x},{default:t(()=>[l("选择图片")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue","title"]),e(F,{dialog:h.value,onOnConfirm:c,"cut-width":100,"cut-height":100},null,8,["dialog"])])}}},G=I(z,[["__scopeId","data-v-fa319114"]]);const J={class:"page"},K={__name:"page-shop-type",setup(r){const v=W(),g=[{id:1,parent:!0,name:"笔记本",icon:"https://img13.360buyimg.com/focus/s140x140_jfs/t11071/195/2462134264/9117/cd0688bf/5a17ba79N18b9f3d4.png"},{id:2,parent:!0,name:"台式机",icon:"https://img10.360buyimg.com/focus/s140x140_jfs/t12865/295/960489437/5723/4f38f11/5a17ba8bN911b7264.jpg"},{id:3,parent:!0,name:"电脑组件",icon:"https://img10.360buyimg.com/focus/s140x140_jfs/t14101/325/978287093/8836/e142aa53/5a17ba73N07b12f0c.jpg",children:[{id:31,name:"显示器",icon:"https://img20.360buyimg.com/focus/s140x140_jfs/t12679/262/982342141/7023/d05a11e5/5a17ba57Nf179b4e4.jpg"},{id:32,name:"主板",icon:"https://img12.360buyimg.com/focus/s140x140_jfs/t13228/333/989759736/4764/2a312c2e/5a17ba7fN0740c051.jpg"}]},{id:4,parent:!0,name:"外设产品",icon:"https://img14.360buyimg.com/focus/s140x140_jfs/t1/98581/29/13884/5125/5e5f1d66E8357cf2e/7232090502f87411.jpg"},{id:5,parent:!0,name:"电脑组件-2",icon:"https://img10.360buyimg.com/focus/s140x140_jfs/t14101/325/978287093/8836/e142aa53/5a17ba73N07b12f0c.jpg",children:[{id:51,name:"显示器-2-1",icon:"https://img20.360buyimg.com/focus/s140x140_jfs/t12679/262/982342141/7023/d05a11e5/5a17ba57Nf179b4e4.jpg"},{id:52,name:"主板-2-2",icon:"https://img12.360buyimg.com/focus/s140x140_jfs/t13228/333/989759736/4764/2a312c2e/5a17ba7fN0740c051.jpg"}]},{id:6,parent:!0,name:"电脑组件-3",icon:"https://img10.360buyimg.com/focus/s140x140_jfs/t14101/325/978287093/8836/e142aa53/5a17ba73N07b12f0c.jpg",children:[{id:61,name:"显示器-3-1",icon:"https://img20.360buyimg.com/focus/s140x140_jfs/t12679/262/982342141/7023/d05a11e5/5a17ba57Nf179b4e4.jpg"},{id:62,name:"主板-3-2",icon:"https://img12.360buyimg.com/focus/s140x140_jfs/t13228/333/989759736/4764/2a312c2e/5a17ba7fN0740c051.jpg"}]}],w=O(()=>v.wh.h-90-40-42-40),s=y({show:!1}),m=y({parent:{id:0,name:"无"},name:"",icon:""}),h=()=>{m.value.parent.id=0,m.value.parent.name="无",s.value.show=!0},a=c=>{m.value.parent.id=c.id,m.value.parent.name=c.name,s.value.show=!0},x=c=>{console.log("创建分类：--> "+c)};return(c,N)=>{const p=o("el-button"),b=o("el-row"),i=o("el-text"),u=o("el-table-column"),_=o("el-image"),j=o("el-table"),C=o("el-card");return f(),D("div",J,[e(C,{shadow:"never",class:"vel_card_override"},{default:t(()=>[e(b,{style:{"margin-bottom":"10px"}},{default:t(()=>[e(p,{type:"primary",onClick:h},{default:t(()=>[l("创建分类")]),_:1})]),_:1}),e(j,{data:g,height:w.value,style:{width:"100%","margin-bottom":"20px"},"row-key":"id","default-expand-all":""},{default:t(()=>[e(u,{prop:"name",label:"分类名称",width:"200"},{default:t(n=>[n.row.parent?(f(),S(i,{key:0,style:{"font-weight":"700"}},{default:t(()=>[l(k(n.row.name),1)]),_:2},1024)):(f(),D(P,{key:1},[l(k(n.row.name),1)],64))]),_:1}),e(u,{prop:"icon",label:"图标"},{default:t(n=>[e(_,{src:n.row.icon,style:{width:"50px",height:"50px"}},null,8,["src"])]),_:1}),e(u,{label:"操作"},{default:t(n=>[n.row.children?(f(),S(p,{key:0,type:"primary",plain:"",onClick:T=>a(n.row)},{default:t(()=>[l("添加子分类 ")]),_:2},1032,["onClick"])):A("",!0),e(p,{type:"success",plain:""},{default:t(()=>[l("编辑")]),_:1}),e(p,{type:"danger",plain:""},{default:t(()=>[l("删除")]),_:1})]),_:1})]),_:1},8,["height"])]),_:1}),e(G,{paramData:m.value,dialog:s.value,onOnConfirm:x},null,8,["paramData","dialog"])])}}},Ne=I(K,[["__scopeId","data-v-0739a20c"]]);export{Ne as default};
