import{u as F}from"../../assets/index-105664b5.js";import{I as H}from"../image-cutter-dialog/image-cutter-dialog.010194f0.js";import{_ as U}from"../vue-img-cutter/vue-img-cutter.7a983898.js";import{r as y,e as $,ah as o,o as f,c as k,W as e,Q as t,a as B,U as l,V as N,u as S,bi as E,bg as O,m as P,P as I,F as A,T as L}from"../@vue/@vue.0dd910b9.js";import"../pinia/pinia.4b064199.js";import"../vue-router/vue-router.15d6db0b.js";import"../localforage/localforage.18b9de72.js";import"../@kangc/@kangc.ef88e246.js";import"../vue/vue.9a0cc4d1.js";import"../js-cookie/js-cookie.edb2da2a.js";import"../axios/axios.47b9d439.js";import"../element-plus/element-plus.329e44fc.js";import"../lodash-es/lodash-es.21c98b27.js";import"../@vueuse/@vueuse.8df01043.js";import"../@element-plus/@element-plus.6da9d819.js";import"../@popperjs/@popperjs.c75af06c.js";import"../@ctrl/@ctrl.f8748455.js";import"../dayjs/dayjs.58465b3f.js";import"../async-validator/async-validator.dee29e8b.js";import"../memoize-one/memoize-one.297ddbcb.js";import"../escape-html/escape-html.df504e48.js";import"../normalize-wheel-es/normalize-wheel-es.ed76fb12.js";import"../@floating-ui/@floating-ui.72671fae.js";import"../echarts/echarts.3025caf6.js";import"../tslib/tslib.54e39b60.js";import"../zrender/zrender.7e5d4d80.js";import"../vue-echarts/vue-echarts.1a32ff80.js";import"../resize-detector/resize-detector.a5205554.js";import"../nprogress/nprogress.d5c4ab3a.js";import"../highlight.js/highlight.js.bbb9c217.js";const M=r=>(E("data-v-b119bf41"),r=r(),O(),r),Q={class:"vel_cpt_panel_dialog_add_shop_type"},R=M(()=>B("p",null,"预览",-1)),q={class:"dialog-footer"},D="100px",z={__name:"add-shop-type-dialog",props:["dialog","paramData"],emits:["onConfirm"],setup(r,{emit:v}){const g=r,w=v,s=g.dialog,p=g.paramData,b=y({show:!1}),a=y({parent:{id:0,name:"无"},name:"",icon:""});$(()=>{a.value.parent=p.parent});const x=()=>{b.value.show=!0},m=h=>{a.value.icon=h.dataURL},T=()=>{w("onConfirm",a.value),c()},c=()=>{s.show=!1};return(h,i)=>{const _=o("el-text"),d=o("el-form-item"),j=o("el-input"),C=o("el-image"),n=o("el-button"),V=o("el-form"),W=o("el-dialog");return f(),k("div",Q,[e(W,{modelValue:S(s).show,"onUpdate:modelValue":i[2]||(i[2]=u=>S(s).show=u),title:a.value.parent.id==0?"创建分类":"添加子分类"},{footer:t(()=>[B("span",q,[e(n,{onClick:c},{default:t(()=>[l("取消")]),_:1}),e(n,{type:"primary",onClick:T},{default:t(()=>[l("确定")]),_:1})])]),default:t(()=>[e(V,{modelValue:a.value,"onUpdate:modelValue":i[1]||(i[1]=u=>a.value=u)},{default:t(()=>[e(d,{label:"父级分类","label-width":D},{default:t(()=>[e(_,{style:{"font-weight":"700"}},{default:t(()=>[l(N(a.value.parent.name),1)]),_:1})]),_:1}),e(d,{label:"分类名称","label-width":D},{default:t(()=>[e(j,{modelValue:a.value.name,"onUpdate:modelValue":i[0]||(i[0]=u=>a.value.name=u)},null,8,["modelValue"])]),_:1}),e(d,{label:"图标","label-width":D,class:"el_form_item_cut_img"},{default:t(()=>[e(C,{src:a.value.icon,style:{width:"70px",height:"70px","background-color":"#f0f2f5",display:"flex","justify-content":"center","align-items":"center"}},{error:t(()=>[R]),_:1},8,["src"]),e(n,{onClick:x},{default:t(()=>[l("选择图片")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue","title"]),e(H,{dialog:b.value,onOnConfirm:m,"cut-width":100,"cut-height":100},null,8,["dialog"])])}}},G=U(z,[["__scopeId","data-v-b119bf41"]]);const J={class:"page"},K={__name:"page-shop-type",setup(r){const v=F(),g=[{id:1,parent:!0,name:"笔记本",icon:"https://img13.360buyimg.com/focus/s140x140_jfs/t11071/195/2462134264/9117/cd0688bf/5a17ba79N18b9f3d4.png"},{id:2,parent:!0,name:"台式机",icon:"https://img10.360buyimg.com/focus/s140x140_jfs/t12865/295/960489437/5723/4f38f11/5a17ba8bN911b7264.jpg"},{id:3,parent:!0,name:"电脑组件",icon:"https://img10.360buyimg.com/focus/s140x140_jfs/t14101/325/978287093/8836/e142aa53/5a17ba73N07b12f0c.jpg",children:[{id:31,name:"显示器",icon:"https://img20.360buyimg.com/focus/s140x140_jfs/t12679/262/982342141/7023/d05a11e5/5a17ba57Nf179b4e4.jpg"},{id:32,name:"主板",icon:"https://img12.360buyimg.com/focus/s140x140_jfs/t13228/333/989759736/4764/2a312c2e/5a17ba7fN0740c051.jpg"}]},{id:4,parent:!0,name:"外设产品",icon:"https://img14.360buyimg.com/focus/s140x140_jfs/t1/98581/29/13884/5125/5e5f1d66E8357cf2e/7232090502f87411.jpg"},{id:5,parent:!0,name:"电脑组件-2",icon:"https://img10.360buyimg.com/focus/s140x140_jfs/t14101/325/978287093/8836/e142aa53/5a17ba73N07b12f0c.jpg",children:[{id:51,name:"显示器-2-1",icon:"https://img20.360buyimg.com/focus/s140x140_jfs/t12679/262/982342141/7023/d05a11e5/5a17ba57Nf179b4e4.jpg"},{id:52,name:"主板-2-2",icon:"https://img12.360buyimg.com/focus/s140x140_jfs/t13228/333/989759736/4764/2a312c2e/5a17ba7fN0740c051.jpg"}]},{id:6,parent:!0,name:"电脑组件-3",icon:"https://img10.360buyimg.com/focus/s140x140_jfs/t14101/325/978287093/8836/e142aa53/5a17ba73N07b12f0c.jpg",children:[{id:61,name:"显示器-3-1",icon:"https://img20.360buyimg.com/focus/s140x140_jfs/t12679/262/982342141/7023/d05a11e5/5a17ba57Nf179b4e4.jpg"},{id:62,name:"主板-3-2",icon:"https://img12.360buyimg.com/focus/s140x140_jfs/t13228/333/989759736/4764/2a312c2e/5a17ba7fN0740c051.jpg"}]}],w=P(()=>v.wh.h-90-40-42-40),s=y({show:!1}),p=y({parent:{id:0,name:"无"}}),b=()=>{p.value.parent.id=0,p.value.parent.name="无",s.value.show=!0},a=m=>{p.value.parent.id=m.id,p.value.parent.name=m.name,s.value.show=!0},x=m=>{console.log("创建分类：--> "+m)};return(m,T)=>{const c=o("el-button"),h=o("el-row"),i=o("el-text"),_=o("el-table-column"),d=o("el-image"),j=o("el-table"),C=o("el-card");return f(),k("div",J,[e(C,{shadow:"never",class:"vel_card_override"},{default:t(()=>[e(h,{style:{"margin-bottom":"10px"}},{default:t(()=>[e(c,{type:"primary",onClick:b},{default:t(()=>[l("创建分类")]),_:1})]),_:1}),e(j,{data:g,height:w.value,style:{width:"100%","margin-bottom":"20px"},"row-key":"id","default-expand-all":""},{default:t(()=>[e(_,{prop:"name",label:"分类名称",width:"200"},{default:t(n=>[n.row.parent?(f(),I(i,{key:0,style:{"font-weight":"700"}},{default:t(()=>[l(N(n.row.name),1)]),_:2},1024)):(f(),k(A,{key:1},[l(N(n.row.name),1)],64))]),_:1}),e(_,{prop:"icon",label:"图标"},{default:t(n=>[e(d,{src:n.row.icon,style:{width:"50px",height:"50px"}},null,8,["src"])]),_:1}),e(_,{label:"操作"},{default:t(n=>[n.row.children?(f(),I(c,{key:0,type:"primary",plain:"",onClick:V=>a(n.row)},{default:t(()=>[l("添加子分类 ")]),_:2},1032,["onClick"])):L("",!0),e(c,{type:"success",plain:""},{default:t(()=>[l("编辑")]),_:1}),e(c,{type:"danger",plain:""},{default:t(()=>[l("删除")]),_:1})]),_:1})]),_:1},8,["height"])]),_:1}),e(G,{paramData:p.value,dialog:s.value,onOnConfirm:x},null,8,["paramData","dialog"])])}}},Ne=U(K,[["__scopeId","data-v-5eb7a48e"]]);export{Ne as default};
