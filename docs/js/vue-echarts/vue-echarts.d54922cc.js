import{a as W,r as Z}from"../resize-detector/resize-detector.a0ec4d8f.js";import{i as G,t as J}from"../echarts/echarts.d4cf78c3.js";import{H as K,s as D,z as L,a2 as Q,j as O,e as U,w as P,i as V,D as X,af as Y,n as $,u as C}from"../@vue/@vue.97fd74aa.js";var g=function(){return g=Object.assign||function(e){for(var a,i=1,l=arguments.length;i<l;i++)for(var c in a=arguments[i])Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c]);return e},g.apply(this,arguments)},ee=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function te(e){return a=Object.create(null),ee.forEach(function(i){a[i]=function(l){return function(){for(var c=[],t=0;t<arguments.length;t++)c[t]=arguments[t];if(!e.value)throw new Error("ECharts is not initialized yet.");return e.value[l].apply(e.value,c)}}(i)}),a;var a}var ne={autoresize:Boolean},re={loading:Boolean,loadingOptions:Object},R=[],y=[];(function(e,a){if(e&&typeof document!="undefined"){var i,l=a.prepend===!0?"prepend":"append",c=a.singleTag===!0,t=typeof a.container=="string"?document.querySelector(a.container):document.getElementsByTagName("head")[0];if(c){var f=R.indexOf(t);f===-1&&(f=R.push(t)-1,y[f]={}),i=y[f]&&y[f][l]?y[f][l]:y[f][l]=j()}else i=j();e.charCodeAt(0)===65279&&(e=e.substring(1)),i.styleSheet?i.styleSheet.cssText+=e:i.appendChild(document.createTextNode(e))}function j(){var m=document.createElement("style");if(m.setAttribute("type","text/css"),a.attributes)for(var b=Object.keys(a.attributes),v=0;v<b.length;v++)m.setAttribute(b[v],a.attributes[b[v]]);var x=l==="prepend"?"afterbegin":"beforeend";return t.insertAdjacentElement(x,m),m}})("x-vue-echarts{display:block;width:100%;height:100%}",{});var ae=/^on[^a-z]/,oe=function(e){return ae.test(e)},ce=K({name:"echarts",props:g(g({option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean},ne),re),inheritAttrs:!1,setup:function(e,a){var i=a.attrs,l=a.listeners,c=D(),t=D(),f=D(),j=L("ecTheme",null),m=L("ecInitOptions",null),b=L("ecUpdateOptions",null),v=Q(e),x=v.autoresize,N=v.manualUpdate,q=v.loading,H=v.loadingOptions,I=O(function(){return f.value||e.option||null}),T=O(function(){return e.theme||C(j)||{}}),k=O(function(){return e.initOptions||C(m)||{}}),S=O(function(){return e.updateOptions||C(b)||{}}),M=O(function(){return function(s){var n={};for(var u in s)oe(u)||(n[u]=s[u]);return n}(i)});function _(s){if(c.value){var n=t.value=G(c.value,T.value,k.value);e.group&&(n.group=e.group);var u=l;u||(u={},Object.keys(i).filter(function(o){return o.indexOf("on")===0&&o.length>2}).forEach(function(o){var r=o.charAt(2).toLowerCase()+o.slice(3);r.substring(r.length-4)==="Once"&&(r="~".concat(r.substring(0,r.length-4))),u[r]=i[o]})),Object.keys(u).forEach(function(o){var r=u[o];if(r){var p=o.toLowerCase();p.charAt(0)==="~"&&(p=p.substring(1),r.__once__=!0);var h=n;if(p.indexOf("zr:")===0&&(h=n.getZr(),p=p.substring(3)),r.__once__){delete r.__once__;var w=r;r=function(){for(var A=[],z=0;z<arguments.length;z++)A[z]=arguments[z];w.apply(void 0,A),h.off(p,r)}}h.on(p,r)}}),x.value?$(function(){n&&!n.isDisposed()&&n.resize(),d()}):d()}function d(){var o=s||I.value;o&&n.setOption(o,S.value)}}function B(){t.value&&(t.value.dispose(),t.value=void 0)}var E=null;U(N,function(s){typeof E=="function"&&(E(),E=null),s||(E=U(function(){return e.option},function(n,u){n&&(t.value?t.value.setOption(n,g({notMerge:n.value!==(u==null?void 0:u.value)},S.value)):_())},{deep:!0}))},{immediate:!0}),U([T,k],function(){B(),_()},{deep:!0}),P(function(){e.group&&t.value&&(t.value.group=e.group)});var F=te(t);return function(s,n,u){var d=L("ecLoadingOptions",{}),o=O(function(){return g(g({},C(d)),u==null?void 0:u.value)});P(function(){var r=s.value;r&&(n.value?r.showLoading(o.value):r.hideLoading())})}(t,q,H),function(s,n,u){var d=null;U([u,s,n],function(o,r,p){var h=o[0],w=o[1],A=o[2];h&&w&&A&&(d=J(function(){w.resize()},100),W(h,d)),p(function(){d&&h&&Z(h,d)})})}(t,x,c),V(function(){_()}),X(B),g({chart:t,root:c,setOption:function(s,n){e.manualUpdate&&(f.value=s),t.value?t.value.setOption(s,n||{}):_(s)},nonEventAttrs:M},F)},render:function(){var e=g({},this.nonEventAttrs);return e.ref="root",e.class=e.class?["echarts"].concat(e.class):"echarts",Y("x-vue-echarts",e)}});export{ce as U};
